name: Render Mermaid diagrams
on: [push]
jobs:
  render:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Render mermaid diagrams
        uses: amitsingh-007/render-md-mermaid@vX.Y # example action
        with:
          source: "docs/architecture/capsule_creation_flow_from_local-remote.md"
          out: "docs/images/flow.svg"
      - name: Commit generated images
        run: |
          git config user.name "github-actions"
          git add docs/images/flow.svg
          git commit -m "Render mermaid diagrams" || echo "no changes"
          git push
